<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyShopLK Kids - My Fun Storybook World!</title>
    
    <!-- Child-Friendly Rounded Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500;700&family=Boo+City&family=Bubblegum+Sans&display=swap" rel="stylesheet">
    
    <!-- Frameworks & Icons -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <style>
        :root {
            --sky-blue: #38bdf8;
            --sunny-yellow: #fde047;
            --story-pink: #f472b6;
            --grass-green: #4ade80;
            --paper-white: #ffffff;
        }

        body {
            margin: 0;
            font-family: 'Quicksand', sans-serif;
            background: linear-gradient(to bottom, #7dd3fc 0%, #bae6fd 100%);
            color: #1e293b;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* --- CARTOON CLOUDS BACKGROUND --- */
        .cloud-bg {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1;
            overflow: hidden;
            pointer-events: none;
        }
        .cloud {
            position: absolute;
            color: white;
            font-size: 5rem;
            opacity: 0.8;
            animation: moveCloud linear infinite;
        }
        @keyframes moveCloud {
            from { transform: translateX(-100px); }
            to { transform: translateX(120vw); }
        }

        /* --- MODERN GOOGLE TRANSLATE (KIDS STYLE) --- */
        #google_translate_element {
            background: white;
            padding: 8px 15px;
            border-radius: 20px;
            border: 4px solid var(--sky-blue);
            box-shadow: 0 4px 0 rgba(0,0,0,0.1);
        }
        .goog-te-gadget .goog-te-combo {
            font-family: 'Quicksand' !important;
            font-weight: 700;
            color: #0369a1;
            border: none;
            outline: none;
        }
        .goog-te-banner-frame { display: none !important; }
        body { top: 0 !important; }

        /* --- HAPPY HEADER --- */
        header {
            background: #fff;
            padding: 1rem 2rem;
            border-bottom: 6px solid #fbbf24;
            box-shadow: 0 10px 25px rgba(0,0,0,0.05);
            border-radius: 0 0 40px 40px;
        }

        .logo-text {
            font-family: 'Bubblegum Sans', cursive;
            font-size: 2.5rem;
            color: #0ea5e9;
            text-shadow: 3px 3px 0px #fbbf24;
        }

        /* --- CARTOON LIBRARY UI --- */
        .library-title {
            font-family: 'Bubblegum Sans', cursive;
            font-size: 4rem;
            color: #ec4899;
            text-shadow: 3px 3px 0 #fff;
        }

        .book-card {
            background: white;
            padding: 1.5rem;
            border-radius: 40px;
            border: 6px solid #38bdf8;
            box-shadow: 0 15px 0 #0ea5e9;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
        }

        .book-card:hover {
            transform: translateY(-15px) scale(1.05);
            box-shadow: 0 25px 0 #0ea5e9;
        }

        .book-card img {
            border-radius: 25px;
            border: 4px solid #fde047;
        }

        /* --- REALISTIC BOOK READER (BRIGHT & CLEAN) --- */
        .book-wrapper {
            width: 95%;
            max-width: 1100px;
            height: 70vh;
            min-height: 500px;
            background: #fbbf24;
            border-radius: 40px;
            position: relative;
            display: flex;
            box-shadow: 0 30px 60px rgba(0,0,0,0.2);
            border: 12px solid #ffffff;
            overflow: hidden;
            margin: 20px auto;
        }

        .book-spine {
            position: absolute;
            left: 50%;
            top: 0; bottom: 0;
            width: 40px;
            background: linear-gradient(to right, rgba(0,0,0,0.1), rgba(255,255,255,0.4), rgba(0,0,0,0.1));
            transform: translateX(-50%);
            z-index: 50;
        }

        .page {
            flex: 1;
            height: 100%;
            background: white;
            position: relative;
            display: flex;
            flex-direction: column;
            padding: 40px;
            box-sizing: border-box;
            overflow-y: auto;
        }

        .page-left {
            border-right: 2px solid #eee;
            background: linear-gradient(to left, #f9f9f9 0%, #fff 10%);
        }

        .story-text-big {
            font-family: 'Quicksand', sans-serif;
            font-weight: 700;
            font-size: clamp(2rem, 5vw, 3.5rem);
            line-height: 1.3;
            color: #1e293b;
            text-align: center;
        }

        /* --- BOUNCY CONTROLS --- */
        .nav-btn {
            background: #f472b6;
            color: white;
            font-size: 1.5rem;
            font-weight: 900;
            padding: 1rem 3rem;
            border-radius: 50px;
            border: 5px solid white;
            box-shadow: 0 8px 0 #db2777;
            transition: 0.2s;
        }

        .nav-btn:active {
            transform: translateY(4px);
            box-shadow: 0 4px 0 #db2777;
        }

        .nav-btn:disabled { opacity: 0.3; cursor: not-allowed; }

        .fullscreen-joy {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 70px;
            height: 70px;
            background: #4ade80;
            border-radius: 50%;
            border: 5px solid white;
            box-shadow: 0 8px 0 #16a34a;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2rem;
            color: white;
            cursor: pointer;
            z-index: 1000;
        }

        /* Animation for page turns */
        .page-bounce {
            animation: bounceIn 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        @keyframes bounceIn {
            0% { transform: scale(0.9); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        @media (max-width: 850px) {
            .book-wrapper { flex-direction: column; height: auto; min-height: 95vh; }
            .book-spine { display: none; }
            .page { padding: 30px 20px; }
            .page-right { height: 400px; }
        }
    </style>
</head>
<body>

    <!-- Animated Clouds Background -->
    <div class="cloud-bg">
        <i class="fas fa-cloud cloud" style="top: 10%; animation-duration: 25s;"></i>
        <i class="fas fa-cloud cloud" style="top: 40%; animation-duration: 35s; animation-delay: -5s;"></i>
        <i class="fas fa-cloud cloud" style="top: 70%; animation-duration: 30s; animation-delay: -10s;"></i>
    </div>

    <header class="flex flex-col md:flex-row justify-between items-center">
        <div class="flex items-center gap-4">
            <div class="w-16 h-16 bg-yellow-400 rounded-full flex items-center justify-center text-white text-3xl shadow-lg border-4 border-white animate-bounce">
                <i class="fas fa-face-smile-beam"></i>
            </div>
            <h1 class="logo-text">My Story World!</h1>
        </div>

        <div class="flex items-center gap-6">
            <div id="google_translate_element"></div>
            <div class="flex items-center gap-3 bg-pink-100 px-4 py-2 rounded-full border-2 border-pink-300">
                <i class="fas fa-paw text-pink-500"></i>
                <span class="text-pink-600 font-bold text-sm" id="story-buddy">Story Buddy: Eagle</span>
            </div>
        </div>
    </header>

    <main id="app-world">
        <!-- Fun Content Goes Here -->
    </main>

    <button class="fullscreen-joy" onclick="toggleFullScreen()" title="Big Screen Mode!">
        <i class="fas fa-expand-arrows-alt"></i>
    </button>

    <script type="text/javascript">
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'en',
                layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
                autoDisplay: false
            }, 'google_translate_element');
        }
    </script>
    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

    <script>
        const myStories = [{
            id: 'eli-the-elephant',
            title: "Eli's Peanuts!",
            cover: "coverpage.jpg",
            funny_moral: "Yay! Truth makes us happy! ‚ù§Ô∏è",
            pages: [
                { text: "Once, a cute elephant named Eli found LOTS of peanuts! Yum! ü•ú", image: "page1.jpg" },
                { text: "Eli ate them all! But he said, 'A silly monkey did it!' üêí", image: "page2.jpg" },
                { text: "Oh no! Eli's tummy went RUMBLE RUMBLE! ü§¢", image: "page3.jpg" },
                { text: "Eli told Mama the truth. She gave him a big hug! ü§ó", image: "page4.jpg" },
                { text: "The truth is like magic! Eli felt happy and light! ‚ú®", image: "page5.jpg" }
            ]
        }];

        let activeBook = null;
        let currentPage = 0;

        function renderLibrary() {
            activeBook = null;
            const container = document.getElementById('app-world');
            container.innerHTML = `
                <div class="text-center py-12">
                    <h2 class="library-title mb-12 animate-pulse">Pick a Story!</h2>
                    
                    <div class="max-w-6xl mx-auto px-6 flex justify-center">
                        ${myStories.map(s => `
                            <div class="book-card w-full max-w-sm" onclick="startStory('${s.id}')">
                                <img src="${s.cover}" alt="${s.title}" class="w-full h-80 object-cover mb-6">
                                <h3 class="text-3xl font-bold text-blue-600 mb-2">${s.title}</h3>
                                <div class="bg-yellow-200 text-yellow-800 font-black py-2 rounded-full text-sm uppercase tracking-widest">
                                    Let's Play!
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function startStory(id) {
            activeBook = myStories.find(s => s.id === id);
            currentPage = 0;
            renderBookPage();
        }

        function renderBookPage() {
            const container = document.getElementById('app-world');
            const isEnd = currentPage === activeBook.pages.length;

            if (isEnd) {
                container.innerHTML = `
                    <div class="min-h-screen flex flex-col items-center justify-center p-8 text-center">
                        <div class="w-32 h-32 bg-yellow-400 rounded-full flex items-center justify-center border-8 border-white shadow-2xl mb-8 animate-bounce">
                            <i class="fas fa-star text-white text-6xl"></i>
                        </div>
                        <h2 class="library-title text-blue-500 mb-6">YOU DID IT!</h2>
                        <div class="bg-white p-10 rounded-[4rem] border-8 border-pink-400 shadow-2xl">
                            <p class="text-4xl font-bold text-pink-600">"${activeBook.funny_moral}"</p>
                        </div>
                        <button onclick="renderLibrary()" class="nav-btn mt-12 bg-green-500 border-green-200 shadow-[0_8px_0_#16a34a]">
                            Pick Another Story!
                        </button>
                    </div>
                `;
                return;
            }

            const page = activeBook.pages[currentPage];
            container.innerHTML = `
                <div class="flex flex-col items-center py-8 px-4">
                    <button onclick="renderLibrary()" class="bg-white px-6 py-2 rounded-full font-black text-blue-500 border-4 border-blue-200 mb-6 hover:scale-110 transition">
                        <i class="fas fa-house"></i> Home
                    </button>

                    <div class="book-wrapper page-bounce">
                        <div class="book-spine"></div>
                        
                        <!-- Left: Text -->
                        <div class="page page-left">
                            <button onclick="readAloud('${page.text.replace(/'/g, "\\'")}')" class="w-16 h-16 bg-blue-100 text-blue-500 rounded-full flex items-center justify-center border-4 border-white shadow-xl hover:scale-125 transition mb-8">
                                <i class="fas fa-volume-up text-2xl"></i>
                            </button>
                            <div class="story-text-big">
                                ${page.text}
                            </div>
                            <div class="mt-auto text-center font-bold text-gray-300">Page ${currentPage + 1}</div>
                        </div>

                        <!-- Right: Cartoon Image -->
                        <div class="page page-right">
                            <img src="${page.image}" class="w-full h-full object-cover" alt="Happy Scene">
                        </div>
                    </div>

                    <div class="flex gap-8 mt-10">
                        <button class="nav-btn bg-blue-500 shadow-[0_8px_0_#0369a1]" onclick="movePage(-1)" ${currentPage === 0 ? 'disabled' : ''}>
                            <i class="fas fa-arrow-left"></i> Back
                        </button>
                        <button class="nav-btn bg-pink-500 shadow-[0_8px_0_#db2777]" onclick="movePage(1)">
                            ${currentPage === activeBook.pages.length - 1 ? 'Last Page!' : 'Next!'} <i class="fas fa-arrow-right ml-2"></i>
                        </button>
                    </div>
                </div>
            `;
        }

        function movePage(dir) {
            currentPage += dir;
            renderBookPage();
        }

        // Support arrow keys for easy PC use
        document.addEventListener('keydown', (e) => {
            if (!activeBook) return;
            if (e.key === "ArrowRight") movePage(1);
            if (e.key === "ArrowLeft" && currentPage > 0) movePage(-1);
        });

        function readAloud(text) {
            window.speechSynthesis.cancel();
            const msg = new SpeechSynthesisUtterance(text);
            msg.pitch = 1.3; // Cute kid voice
            msg.rate = 0.9;
            window.speechSynthesis.speak(msg);
        }

        function toggleFullScreen() {
            if (!document.fullscreenElement) document.documentElement.requestFullscreen();
            else document.exitFullscreen();
        }

        // Update Story Buddy based on language
        setInterval(() => {
            const select = document.querySelector('.goog-te-combo');
            const buddy = document.getElementById('story-buddy');
            if (select && buddy) {
                const lang = select.value;
                if (lang === 'si') buddy.innerText = "Story Buddy: Wali Kukula";
                else if (lang === 'hi') buddy.innerText = "Story Buddy: Tiger";
                else buddy.innerText = "Story Buddy: Eagle";
            }
        }, 3000);

        window.onload = renderLibrary;
    </script>
</body>
</html>